function b = replace_xs_with_y(a,x,y)% b = replace_xs_with_y(a,x,y)% replace all the elements in A possessing value x, with y.  Return as B.% I use this to substitute nan for 0's in rasters.%% M. Shadlen 9/94% Updated: 3/1/95.  Using special case when x is NaN[m,n] = size(a);if ~isempty(a)  aa = a(:);  if ~isnan(x)    I = find(aa==x);    aa(I) = y * ones(size(aa(I)));  else    % we are replacing nan's with a value    I = isnan(aa);    aa(I) = y * ones(size(aa(I)));  end  b = reshape(aa,m,n);end