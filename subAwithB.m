function y = subAwithB(x,A,B)% function y = subAwithB(x,A,B)% takes vector or matrix, x, and substitutes B for A.  % B and A must be vectors with the same number of elementsif ~any(size(A))==1 | ~all(size(A)==size(B))  error('A & B must be vectors of identical length')endallisok = 0;while ~allisok   tlist = round(10000*rand(size(A)));  if ~any(ismember(x(:),tlist)) & length(unique(tlist))==length(tlist)    allisok = 1;  endendfor i = 1:length(tlist)  x(x==A(i)) = tlist(i);endy = x;for i = 1:length(tlist)  y(x==A(i)) = tlist(i);endfor i = 1:length(tlist)  y(x==tlist(i)) = B(i);end