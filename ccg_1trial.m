function [g,h] = ccg_1trial(x,y,tmaxSec,hwidthMsec)%res = .001;sf = 1/res;% copy inputs arrival times and get rid of any outside the time rangexx = x(x <= tmaxSec);yy = y(y <= tmaxSec);%size(xx)%size(yy)n = tmaxSec * sf + 1;t1s = sparse(1,round(xx*sf)+1,1,1,n);t2s = sparse(1,round(yy*sf)+1,1,1,n);t12s = t1s'*t2s;t = -hwidthMsec:hwidthMsec;for i = 1:length(t)	d = diag(t12s,t(i)); 	c(i) = full(sum(d)/length(d));end