function b = goodtrial(paranum,e0)%  b = goodtrial(paranum)% returns 1 if the trial defined by a snippet of efile data, E0, is a good% trial.  Returns 0 if it is a bad trial.  E0 is an n by 2 matrix, of ecode% data.  The 2nd column is ignored and the first is a list of event codes.% Depending on the paranum, the routine applies whatever logic we specify% below to do the determination.globalEcodeHdr;if paranum == 512  if sum(isMember(e0(:,1), [NOCHCD WRONGCD])) > 0    % it's a bad trial    b = 0;				% return argument  else    % it had better be a good trial.  We'll double check    if sum(isMember(e0(:,1), [EYEHLDCD REWCD CORRECTCD]))== 3      % all is well      b = 1;    else      % the first two options may both be wrong if this really isn't a trial      % but instead is just time that went by before additional trials were      % added to your open file 6/11/97      b = 0;				% return arg    end  end  else  error('goodtrial.m:  bad paradigm number')end